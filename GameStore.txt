--account table
CREATE TABLE Games
(
GameID INT IDENTITY(1,1) PRIMARY KEY NOT NULL,
Title NVARCHAR(50),
Genre NVARCHAR(50),
Description NVARCHAR(2000),
Rating NVARCHAR(50),
Price DECIMAL(5,2),
ReleaseDate DATE
)

CREATE TABLE LineItems
(
LineItemID INT IDENTITY(1,1) PRIMARY KEY NOT NULL,
GameID INT FOREIGN KEY REFERENCES Games(GameID) ON DELETE CASCADE,
CartID INT FOREIGN KEY REFERENCES Carts(CartID),
Quantity INT
)

CREATE TABLE Carts
(
CartID INT IDENTITY(1,1) PRIMARY KEY NOT NULL,
UserID INT FOREIGN KEY REFERENCES Users(UserID),
)

CREATE TABLE Users
(
[UserID] [int] IDENTITY(1,1) PRIMARY KEY NOT NULL,
[UserName] [nvarchar](15) NOT NULL,
[Email] [nvarchar](70) NOT NULL,
[usrPassword] [nvarchar](100) NOT NULL,
[IsAdmin] [bit] NULL
)

CREATE TABLE Images
(
ImageID INT IDENTITY(1,1) PRIMARY KEY NOT NULL,
GameID INT FOREIGN KEY REFERENCES Games(GameID) ON DELETE CASCADE,
Name NVARCHAR(70),
Description NVARCHAR(70)
)

INSERT INTO Games(Title, Genre, Description, Rating, Price, ReleaseDate)
VALUES	('World OF Warcraft', 'MMO', 'World of Warcraft is a massively multiplayer online role-playing game created in 2004 by Blizzard Entertainment. It is the fourth released game set in the fantasy Warcraft universe, which was first introduced by Warcraft: Orcs & Humans in 1994', 13, 49.99, '20120618'),
		('Battle Toads', 'platformer', 'Battletoads is a video game media franchise by Rare that began with the original beat em up game Battletoads in 1991. Starring three anthropomorphic toads named after skin conditions, Rash, Zitz, and Pimple, the series was created to rival the Teenage Mutant Ninja Turtles games. The series as a whole has been quite popular with five installments up to this date and at its apex spawned an animated television pilot.', 3, 59.99, '20120618'),
		('Tony Hawks Pro Skater', 'Sports', 'Tony Hawks Pro Skater, released as Tony Hawks Skateboarding in Australia, New Zealand and parts of Europe, is a skateboarding video game developed by Neversoft.', 12, 59.99, '20150222'),
		('Abes Odyssey', 'Adventure', 'Oddworld: Abes Oddysee is a platform video game developed by Oddworld Inhabitants and published by GT Interactive. It was released in 1997 for the PlayStation video game console, DOS and Microsoft Windows in North America, Australia and Europe. The game was released under the title Abe a GoGo in Japan for the PlayStation by publisher SoftBank, with a PC version following in 2001. The Game Boy port of Abes Oddysee, retitled as Oddworld Adventures, was developed by Saffire Corporation and published by GT Interactive in 1998.',12,39.99, '19900101'),
		('World OF Warcraft', 'MMO', 'World of Warcraft is a massively multiplayer online role-playing game created in 2004 by Blizzard Entertainment. It is the fourth released game set in the fantasy Warcraft universe, which was first introduced by Warcraft: Orcs & Humans in 1994', 13, 49.99, '20120618'),
		('Battle Toads', 'platformer', 'Battletoads is a video game media franchise by Rare that began with the original beat em up game Battletoads in 1991. Starring three anthropomorphic toads named after skin conditions, Rash, Zitz, and Pimple, the series was created to rival the Teenage Mutant Ninja Turtles games. The series as a whole has been quite popular with five installments up to this date and at its apex spawned an animated television pilot.', 3, 59.99, '20120618'),
		('Tony Hawks Pro Skater', 'Sports', 'Tony Hawks Pro Skater, released as Tony Hawks Skateboarding in Australia, New Zealand and parts of Europe, is a skateboarding video game developed by Neversoft.', 12, 59.99, '20150222'),
		('Abes Odyssey', 'Adventure', 'Oddworld: Abes Oddysee is a platform video game developed by Oddworld Inhabitants and published by GT Interactive. It was released in 1997 for the PlayStation video game console, DOS and Microsoft Windows in North America, Australia and Europe. The game was released under the title Abe a GoGo in Japan for the PlayStation by publisher SoftBank, with a PC version following in 2001. The Game Boy port of Abes Oddysee, retitled as Oddworld Adventures, was developed by Saffire Corporation and published by GT Interactive in 1998.',12,39.99, '19900101')


*****Stored Procedures******

CREATE PROCEDURE spValidateUser
	@UserName NVARCHAR(50),
	@usrPassword NVARCHAR(50)
AS
BEGIN
	SELECT * FROM dbo.Users
	WHERE 
		UserName = @UserName
		AND
		usrPassword = @usrPassword
END


CREATE PROCEDURE spGetGameDetails
	@GameID INTEGER
AS
BEGIN
	SET NOCOUNT ON;
	SELECT *
	FROM
		Games
	WHERE
		Games.GameID = @GameID
END